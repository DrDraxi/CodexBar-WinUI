<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="CodexBar.Views.ProvidersSettingsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:CodexBar.Views">

    <ScrollViewer>
        <StackPanel Spacing="16" Padding="0,0,20,20">
            <TextBlock Text="Providers" Style="{StaticResource TitleTextBlockStyle}"/>
            <TextBlock Text="Enable the AI providers you want to track."
                       Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>

            <StackPanel Spacing="12">
                <!-- Codex -->
                <Expander HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch">
                    <Expander.Header>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel>
                                <TextBlock Text="Codex" FontWeight="SemiBold"/>
                                <TextBlock Text="OAuth or browser cookies" FontSize="12"
                                           Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                            </StackPanel>
                            <ToggleSwitch x:Name="CodexToggle" Grid.Column="1"
                                          Toggled="ProviderToggle_Toggled" Tag="Codex"
                                          Margin="0,0,0,0" VerticalAlignment="Center"/>
                        </Grid>
                    </Expander.Header>
                    <StackPanel Spacing="8" Padding="0,8,0,0">
                        <TextBlock Text="Manual Cookie (optional)" FontSize="12"/>
                        <PasswordBox x:Name="CodexCookieBox" PlaceholderText="Paste Cookie header from chatgpt.com..."
                                     PasswordChanged="CookieBox_PasswordChanged" Tag="Codex"/>
                        <Button Content="Login with OAuth" Click="LoginOAuth_Click" Tag="Codex"/>
                    </StackPanel>
                </Expander>

                <!-- Claude -->
                <Expander HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch">
                    <Expander.Header>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel>
                                <TextBlock Text="Claude" FontWeight="SemiBold"/>
                                <TextBlock Text="OAuth or browser cookies" FontSize="12"
                                           Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                            </StackPanel>
                            <ToggleSwitch x:Name="ClaudeToggle" Grid.Column="1"
                                          Toggled="ProviderToggle_Toggled" Tag="Claude"
                                          Margin="0,0,0,0" VerticalAlignment="Center"/>
                        </Grid>
                    </Expander.Header>
                    <StackPanel Spacing="8" Padding="0,8,0,0">
                        <TextBlock Text="Manual Cookie (optional)" FontSize="12"/>
                        <PasswordBox x:Name="ClaudeCookieBox" PlaceholderText="Paste Cookie header from claude.ai..."
                                     PasswordChanged="CookieBox_PasswordChanged" Tag="Claude"/>
                        <Button Content="Login with OAuth" Click="LoginOAuth_Click" Tag="Claude"/>
                    </StackPanel>
                </Expander>

                <!-- Copilot (not yet tested) -->
                <Expander HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch" IsEnabled="False" Opacity="0.5">
                    <Expander.Header>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel>
                                <TextBlock Text="Copilot" FontWeight="SemiBold"/>
                                <TextBlock Text="GitHub device flow (coming soon)" FontSize="12"
                                           Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                            </StackPanel>
                            <ToggleSwitch x:Name="CopilotToggle" Grid.Column="1"
                                          Toggled="ProviderToggle_Toggled" Tag="Copilot"
                                          Margin="0,0,0,0" VerticalAlignment="Center" IsEnabled="False"/>
                        </Grid>
                    </Expander.Header>
                    <StackPanel Spacing="8" Padding="0,8,0,0">
                        <Button Content="Login with GitHub" Click="LoginOAuth_Click" Tag="Copilot"/>
                    </StackPanel>
                </Expander>

                <!-- Cursor -->
                <Expander HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch">
                    <Expander.Header>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel>
                                <TextBlock Text="Cursor" FontWeight="SemiBold"/>
                                <TextBlock Text="Browser cookies" FontSize="12"
                                           Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                            </StackPanel>
                            <ToggleSwitch x:Name="CursorToggle" Grid.Column="1"
                                          Toggled="ProviderToggle_Toggled" Tag="Cursor"
                                          Margin="0,0,0,0" VerticalAlignment="Center"/>
                        </Grid>
                    </Expander.Header>
                    <StackPanel Spacing="8" Padding="0,8,0,0">
                        <TextBlock Text="Manual Cookie (optional)" FontSize="12"/>
                        <PasswordBox x:Name="CursorCookieBox" PlaceholderText="Paste Cookie header from cursor.com..."
                                     PasswordChanged="CookieBox_PasswordChanged" Tag="Cursor"/>
                    </StackPanel>
                </Expander>

                <!-- Gemini (not yet tested) -->
                <Expander HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch" IsEnabled="False" Opacity="0.5">
                    <Expander.Header>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel>
                                <TextBlock Text="Gemini" FontWeight="SemiBold"/>
                                <TextBlock Text="OAuth via CLI credentials (coming soon)" FontSize="12"
                                           Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                            </StackPanel>
                            <ToggleSwitch x:Name="GeminiToggle" Grid.Column="1"
                                          Toggled="ProviderToggle_Toggled" Tag="Gemini"
                                          Margin="0,0,0,0" VerticalAlignment="Center" IsEnabled="False"/>
                        </Grid>
                    </Expander.Header>
                    <StackPanel Spacing="8" Padding="0,8,0,0">
                        <TextBlock Text="Run 'gemini auth login' in terminal to authenticate" FontSize="12"
                                   Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                    </StackPanel>
                </Expander>

                <!-- JetBrains (not yet tested) -->
                <Expander HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch" IsEnabled="False" Opacity="0.5">
                    <Expander.Header>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel>
                                <TextBlock Text="JetBrains" FontWeight="SemiBold"/>
                                <TextBlock Text="Local IDE config (coming soon)" FontSize="12"
                                           Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                            </StackPanel>
                            <ToggleSwitch x:Name="JetBrainsToggle" Grid.Column="1"
                                          Toggled="ProviderToggle_Toggled" Tag="JetBrains"
                                          Margin="0,0,0,0" VerticalAlignment="Center" IsEnabled="False"/>
                        </Grid>
                    </Expander.Header>
                    <StackPanel Spacing="8" Padding="0,8,0,0">
                        <TextBlock Text="Uses local JetBrains IDE configuration" FontSize="12"
                                   Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                    </StackPanel>
                </Expander>

                <!-- Augment (not yet tested) -->
                <Expander HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch" IsEnabled="False" Opacity="0.5">
                    <Expander.Header>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel>
                                <TextBlock Text="Augment" FontWeight="SemiBold"/>
                                <TextBlock Text="Browser cookies (coming soon)" FontSize="12"
                                           Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                            </StackPanel>
                            <ToggleSwitch x:Name="AugmentToggle" Grid.Column="1"
                                          Toggled="ProviderToggle_Toggled" Tag="Augment"
                                          Margin="0,0,0,0" VerticalAlignment="Center" IsEnabled="False"/>
                        </Grid>
                    </Expander.Header>
                    <StackPanel Spacing="8" Padding="0,8,0,0">
                        <TextBlock Text="Manual Cookie (optional)" FontSize="12"/>
                        <PasswordBox x:Name="AugmentCookieBox" PlaceholderText="Paste Cookie header from augmentcode.com..."
                                     PasswordChanged="CookieBox_PasswordChanged" Tag="Augment"/>
                    </StackPanel>
                </Expander>
            </StackPanel>
        </StackPanel>
    </ScrollViewer>
</Page>
